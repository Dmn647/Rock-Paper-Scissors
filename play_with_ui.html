<!DOCTYPE html>
<html>
  <div id="buttons">
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
  </div>

  <div id="results">
  </div>

  <script>
    const buttons = document.querySelectorAll("button");
    buttons.forEach(button => {
      button.addEventListener("click", e => {
        alert(playRound(button.id, computerPlay()));
      });
    });

    function computerPlay() {
      value = Math.floor(Math.random() * 3);
      if (value == 0) {
        result = "rock";
      } else if (value == 1) {
        result = "paper";
      } else {
        result = "scissors";
      }
      return result;
    }

    function playRound(playerSelection, computerSelection) {
      // make playerSelection case insensitive, initialize selections
      playerSelection = playerSelection.toLowerCase();
      computerSelection = computerPlay();

      // if the player and computer choose the same option
      while (playerSelection == computerSelection) {
        computerSelection = computerPlay();
      }

      if (playerSelection == "rock") {
        if (computerSelection == "paper") {
          console.log("You Lose!");
          return 0;
        } else {
          console.log("You win!");
          return 1;
        }
      } else if (playerSelection == "paper") {
        if (computerSelection == "scissors") {
          console.log("You Lose!");
          return 0;
        } else {
          console.log("You win!");
          return 1;
        }
      } else if (playerSelection == "scissors") {
        if (computerSelection == "rock") {
          console.log("You Lose!");
          return 0;
        } else {
          console.log("You win!");
          return 1;
        }
      }
    }

    function game() {
      let playerWins = 0;
      let computerWins = 0;

      /*
      while (playerWins + computerWins < 5) {
        let playerChoice = prompt("Choose rock, paper, or scissors!");
        if (playRound(playerChoice, computerPlay)) {
          playerWins++;
        } else {
          computerWins++;
        }
      }
      */

      if (playerWins > computerWins) {
        console.log("Player Wins");
      } else {
        console.log("Computer Wins");
      }
    }
  </script>
</html>
