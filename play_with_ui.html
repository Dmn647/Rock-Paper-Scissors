<!DOCTYPE html>
<html>
  <div id="buttons">
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
  </div>
  <br />
  <div id="score"></div>
  <div id="results"></div>

  <script>
    let playerSelection = null;
    let computerSelection = null;
    let playerWins = 0;
    let computerWins = 0;

    // create DOM for scorekeeping, update player and computer scores
    const score = document.querySelector("#score");

    const currentPlayerScore = document.createElement("h2");
    currentPlayerScore.textContent = `Player: ${playerWins}`;
    score.appendChild(currentPlayerScore);

    const currentComputerScore = document.createElement("h2");
    currentComputerScore.textContent = `Computer: ${computerWins}`;
    score.appendChild(currentComputerScore);

    function computerPlay() {
      value = Math.floor(Math.random() * 3);
      if (value == 0) {
        result = "rock";
      } else if (value == 1) {
        result = "paper";
      } else {
        result = "scissors";
      }
      return result;
    }

    function playRound(playerSelection, computerSelection) {
      // if the player and computer choose the same option
      while (playerSelection == computerSelection) {
        computerSelection = computerPlay();
      }

      if (playerSelection == "rock") {
        if (computerSelection == "paper") {
          console.log("You Lose!");
          return 0;
        } else {
          console.log("You win!");
          return 1;
        }
      } else if (playerSelection == "paper") {
        if (computerSelection == "scissors") {
          console.log("You Lose!");
          return 0;
        } else {
          console.log("You win!");
          return 1;
        }
      } else if (playerSelection == "scissors") {
        if (computerSelection == "rock") {
          console.log("You Lose!");
          return 0;
        } else {
          console.log("You win!");
          return 1;
        }
      }
    }

    function game() {
      const buttons = document.querySelectorAll("button");
      buttons.forEach(button => {
        button.addEventListener("click", e => {
          alert(playRound(button.id, computerPlay()));
        });
      });

      const results = document.querySelector("#results");
      results.classList.add("results");
      results.textContent = `Player: ${playerWins} Computer: ${computerWins}`;

      /*
      while (playerWins + computerWins < 5) {
        let playerChoice = prompt("Choose rock, paper, or scissors!");
        if (playRound(playerChoice, computerPlay)) {
          playerWins++;
        } else {
          computerWins++;
        }
      }
      */

      if (playerWins > computerWins) {
        console.log("Player Wins");
      } else {
        console.log("Computer Wins");
      }
    }
  </script>
</html>
